(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d2b43b1"],{"2e81":function(t,e,n){},d03e:function(t,e,n){"use strict";n("2e81")},f93f:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row m-4"},[n("div",{staticClass:"col-12 text-end mb-3"},[n("button",{staticClass:"btn btn-primary btn-sm ms-2",attrs:{type:"button"},on:{click:t.download}},[t._v(" 下載檔案 ")]),n("button",{staticClass:"btn btn-primary btn-sm ms-2",attrs:{type:"button"},on:{click:t.saveChart}},[t._v(" 儲存檔案 ")]),n("button",{staticClass:"btn btn-primary btn-sm ms-2",attrs:{type:"button"},on:{click:t.readFile}},[t._v(" 讀取檔案 ")]),n("button",{staticClass:"btn btn-danger btn-sm ms-2",attrs:{type:"button"},on:{click:t.clearArea}},[t._v(" 清空版面 ")])]),n("div",{staticClass:"col-2"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body",staticStyle:{height:"700px"}},[n("draggable",{on:{end:t.dragWidget}},t._l(t.sideItems,(function(e,s){return n("div",{key:s,staticClass:"m-3 blue-item"},[t._v(" "+t._s(e)+" ")])})),0)],1)])]),n("div",{staticClass:"col-10"},[n("div",{ref:"card",staticClass:"card"},[n("div",{ref:"region",staticClass:"card-body",staticStyle:{height:"700px"},attrs:{id:"regionId"}},t._l(t.mainItems,(function(e,s){return n("div",{key:s,staticClass:"blue-item",staticStyle:{position:"absolute",width:"220px"},style:{left:e.left,top:e.top},attrs:{id:e.id}},[t._v(" "+t._s(e.label)+" ")])})),0)])])])},a=[],i=n("b85c"),o=(n("d3b7"),n("159b"),n("b76a")),r=n.n(o),c=n("e193"),l=n("e1bd"),d=n("c0e9"),u=n.n(d),b={name:"FlowChart",components:{draggable:r.a},data:function(){return{sideItems:["蘋果","芭樂芭樂","火龍果"],mainItems:[],jsPlumbObj:null}},mounted:function(){this.jsPlumbObj=c["jsPlumb"].getInstance()},methods:{addOneAnchor:function(t){var e={isSource:!0,isTarget:!0,maxConnections:-1,endpoint:"Dot",paintStyle:{fill:"pink",radius:8,strokeWidth:5},hoverPaintStyle:{strokeWidth:2,stroke:"lightblue"},connector:["Flowchart"],connectorStyle:{strokeWidth:2,stroke:"green"},connectorHoverStyle:{strokeWidth:2,stroke:"red"},connectorOverlays:[["Arrow",{width:14,length:14,location:1}]]};this.jsPlumbObj.addEndpoint(t,{anchor:"Top"},e),this.jsPlumbObj.addEndpoint(t,{anchor:"Right"},e),this.jsPlumbObj.addEndpoint(t,{anchor:"Bottom"},e),this.jsPlumbObj.addEndpoint(t,{anchor:"Left"},e),this.jsPlumbObj.draggable(t,{containment:"regionId"})},dragWidget:function(t){var e=this,n=t.originalEvent,s=n.clientX,a=n.clientY,i=this.$refs.region.getBoundingClientRect(),o=i.left,r=i.top,c=i.width,d=i.height;if(s>o&&s<o+c&&a>r&&a<r+d){var u=Object(l["a"])();this.mainItems.push({id:u,label:t.item.innerText,top:a-r+"px",left:s-o+"px"}),this.$nextTick((function(){e.addOneAnchor(u)}))}else alert(" Please drag to the content box ")},clearArea:function(){this.jsPlumbObj.deleteEveryEndpoint(),this.mainItems=[]},saveChart:function(){var t,e=this,n=[],s=Object(i["a"])(this.jsPlumbObj.getConnections());try{for(s.s();!(t=s.n()).done;){var a=t.value;n.push({sourceId:a.sourceId,targetId:a.targetId})}}catch(o){s.e(o)}finally{s.f()}this.jsPlumbObj.deleteEveryEndpoint(),setTimeout((function(){var t,s=Object(i["a"])(n);try{for(s.s();!(t=s.n()).done;){var a=t.value;e.jsPlumbObj.connect({source:a.sourceId,target:a.targetId})}}catch(o){s.e(o)}finally{s.f()}}),2e3)},readFile:function(){var t=this;this.clearArea();var e,n=sessionStorage.getItem("msg03"),s=Object(i["a"])(JSON.parse(n));try{for(s.s();!(e=s.n()).done;){var a=e.value;this.mainItems.push(a)}}catch(o){s.e(o)}finally{s.f()}this.$nextTick((function(){t.mainItems.forEach((function(e){return t.addOneAnchor(e.id)}))}))},download:function(){u()(this.$refs.card).then((function(t){var e=document.createElement("a");e.href=t.toDataURL(),e.setAttribute("download","圖片canvas.png"),e.style.display="none",document.body.appendChild(e),e.click()}))}}},h=b,m=(n("d03e"),n("2877")),f=Object(m["a"])(h,s,a,!1,null,"395ec420",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-5d2b43b1.af98fa19.js.map